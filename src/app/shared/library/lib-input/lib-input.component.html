<div class="input-container">
  <div class="input-text-container">
    <span>
      <lib-font
        [text]="text"
        variant="element"
        [color]="control.disabled ? 'disabled' : 'default'"></lib-font>
    </span>
    @if (required) {
      <lib-font text="*" variant="element" color="error"></lib-font>
    }
  </div>
  <div
    class="input-textbox-container"
    [ngClass]="{
      disabled: control.disabled,
    }">
    <div class="input-textbox-icon">
      <input
        [id]="id + '-input'"
        [attr.aria-label]="ariaLabel"
        class="input-textbox"
        [placeholder]="placeholder"
        [ngClass]="{
          error: control && control.invalid && control.touched,
        }"
        [formControl]="control"
        autocomplete="on"
        [attr.aria-required]="required ? 'true' : 'false'"
        [readOnly]="isReadOnly"
        [tabIndex]="isReadOnly ? -1 : 0"
        [ngStyle]="{ cursor: isClickable ? 'pointer' : 'auto' }" />
      @if (icon) {
        <div class="input-icon-button">
          <lib-button
            [id]="id ? id : 'input-button'"
            type="icon-only"
            variant="tertiary"
            (clickEvent)="onClickIcon()"
            [icon]="icon"
            [ariaLabel]="icon"
            [disabled]="control.disabled"
            color="default"
            size="small"></lib-button>
        </div>
      }
    </div>
    @if (assistiveText || (control && control.invalid && control.touched)) {
      <div class="input-assistive-text-container">
        <span
          class="material-symbols-outlined"
          [ngClass]="{
            error: control.invalid && control.touched,
          }">
          {{ control.invalid && control.touched ? 'dangerous' : 'info' }}
        </span>
        <p
          class="input-assistive-text"
          [ngClass]="{
            error: control.invalid && control.touched,
          }">
          {{
            control.invalid && control.touched
              ? getErrorMessage()
              : assistiveText
          }}
        </p>
      </div>
    }
  </div>
</div>
